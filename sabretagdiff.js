var Themes=[{themeName:"Theme khó nhìn",bgColor:"#bbbbbb",tagNameColor:"#000000",attributeNameColor:"#000000",sampleDataColor:"#000000",markSymbolsColor:"#000000",changedLineBgColor:"#ede900",changedPartBgColor:"#ffafaf"},{themeName:"Dark theme",bgColor:"#1e1e1e",tagNameColor:"#569cd6",attributeNameColor:"#9cdcfe",sampleDataColor:"#ffffff",markSymbolsColor:"#808080",changedLineBgColor:"#383838",changedPartBgColor:"#540356"},{themeName:"Light theme",bgColor:"#efefef",tagNameColor:"#0000ff",attributeNameColor:"#d65900",sampleDataColor:"#55176d",markSymbolsColor:"#888888",changedLineBgColor:"#ffd6d6",changedPartBgColor:"#fffa00"}];function ComparedTag(e){var a=this;a.level=e.L,a.marginLeft="margin-left: "+20*(a.level-1)+"px;",a.isWholeLineChanged=!1,a.tagName=e.N,a.sampleData=e.S,a.changeType=e.C,a.hasChildTags=e.H,a.isTagNameChanged=e.C!=ChangeType.Unchanged,a.attributes=[];for(var n=0;n<e.A.length;n++){var t=e.A[n],o={attributeName:t.N,sampleData:t.S,changeType:t.C,isAttributeNameChanged:t.C!=ChangeType.Unchanged};a.attributes.push(o),a.isWholeLineChanged=a.isWholeLineChanged||o.isAttributeNameChanged}a.isWholeLineChanged=a.isWholeLineChanged||a.isTagNameChanged}function ViewModel(){var e=this;e.displayDiffLines=ko.observable(300),e.diffData=rawDiffData,e.dataOldLength=e.diffData[0].length,e.dataNewLength=e.diffData[1].length,e.maxCount=Math.max(e.dataOldLength,e.dataNewLength),e.activePage=ko.observable(1),e.maxPage=1,e.pages=ko.computed(function(){e.maxPage=Math.ceil(e.maxCount/e.displayDiffLines());var a=e.activePage(),n=e.maxPage,t=11,o=[],l=0,r=0,t=n>=t?t:n,i=Math.ceil(t/2);i>a?(l=1,r=t):a>n-i?(l=n-t+1,r=n):(l=a-i+1,r=l+t-1);for(var s=l;r>=s;s++)o.push(s);return o}),e.oldPane=ko.observableArray([]),e.newPane=ko.observableArray([]),e.showPage=function(a){var n=e.displayDiffLines(),t=(a-1)*n,o=t+n;0>t&&(t=0),o>e.maxCount&&(o=e.maxCount),e.oldPane.removeAll(),e.newPane.removeAll();for(var l=t;o>l;l++)e.dataOldLength>l?e.oldPane.push(new ComparedTag(e.diffData[0][l])):e.oldPane.push(new ComparedTag({L:0,N:"",S:"",C:3,H:!1,A:[]})),e.dataOldLength>l?e.newPane.push(new ComparedTag(e.diffData[1][l])):e.newPane.push(new ComparedTag({L:0,N:"",S:"",C:3,H:!1,A:[]}));e.currentFrom=t,e.activePage(a),$(".main-diff").scrollTop(0),$(".pane-view").scrollLeft(0)},e.theme=ko.observable(Themes[0]),e.isActivePage=function(a){return a==e.activePage()}}const displayPageCount=11;var ChangeType={get Unchanged(){return 0},get Deleted(){return 1},get Inserted(){return 2},get Imaginary(){return 3},get Modified(){return 4}};$(document).ready(function(){$(".pane-scroll").scroll(function(){var e=$(this).scrollLeft();$("#pane-new").scrollLeft(e),$("#pane-old").scrollLeft(e)}),$("#pane-old").scroll(function(){var e=$(this).scrollLeft();$("#pane-new").scrollLeft(e),$(".pane-scroll").scrollLeft(e)}),$("#pane-new").scroll(function(){var e=$(this).scrollLeft();$(".pane-scroll").scrollLeft(e),$("#pane-old").scrollLeft(e)});var e=$("#container").height();$(".pane-view").attr("style","min-height:"+e+"px;");var a=new ViewModel;ko.applyBindings(a,document.querySelector("body")),ko.applyBindings(a.theme,document.querySelector("#head")),a.showPage(1)});